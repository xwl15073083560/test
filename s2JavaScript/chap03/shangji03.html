
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>课工场论坛列表</title>
    <link href="bbs.css" rel="stylesheet">
</head>
<body>
<div class="bbs">
    <header><span onclick="xianshi()">我要发帖</span></header>
    <section>
        <ul id="ul"></ul>
    </section>
    <div class="post" id="1">
        <input class="title" id="title" placeholder="请输入标题（1-50个字符）">
        所属版块：<select><option>请选择版块</option><option>电子书籍</option><option>新课来了</option><option>新手报到</option><option>职业规划</option></select>
        <textarea class="content"></textarea>
        <input class="btn" value="发布" onclick="charu()">
    </div>
</div>
<script type="text/javascript">
    var tou=new Array("image/tou01.jpg","image/tou02.jpg","image/tou03.jpg","image/tou04.jpg");
    function charu(){
        var li=document.createElement("li");
        var tx=tou[Math.floor(Math.random()*4)];
        var img=document.createElement("img");//创建图片标签
        img.setAttribute("src",tx);
        var titleH1=document.createElement("h1");//创建标题所在的标签h1
        var title=document.getElementById("title").value;//获取标题
        titleH1.innerHTML=title;//将标题内容放在h1标签中
        var p=document.createElement("p");//创建p标签
        var ban=document.getElementsByTagName("select")[0].value;//获得板块的值
        var time=new Date();
        var mydate=time.getFullYear()+"-"+(time.getMonth()+1)+"-"+time.getDate()+" "+time.getHours()+":"+time.getMinutes();
        p.innerHTML="板块："+ban+"&nbsp&nbsp"+"发表时间："+mydate;
        var div=document.createElement("div");
        div.appendChild(img);
        li.appendChild(div);
        li.appendChild(titleH1);
        li.appendChild(p);
        var ul=document.getElementsByTagName("ul")[0];
        ul.insertBefore(li,ul.firstElementChild);
//        ul.appendChild(li);
        document.getElementById("1").style.display="none";

        document.getElementsByClassName("title")[0].value="";//清空标题
        document.getElementsByTagName("select")[0].selectedIndex=0;//默认选中下拉下标为0选项
        document.getElementsByTagName("textarea")[0].value="";//清空内容框

    }
    var num=0;
    function xianshi(){
        num++;
        var str="";
        if(num%2==0){
           str="none";
        }else{
            str="block";
        }
        document.getElementById("1").style.display=str;
    }
</script>
</body>
</html>