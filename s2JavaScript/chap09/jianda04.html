
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>使用正则表达式验证表单内容</title>
    <link href="reg5.css" rel="stylesheet">
</head>

<body>
<div class="main"><img src="images/logo5.jpg" alt="logo"/>
    <form action="" id="myform" method="post">
        <dl>
            <dt>用户名：</dt>
            <dd><input id="user" type="text" class="inputs" onblur="checkUser()" /><div id="user_prompt"></div></dd>
        </dl>
        <dl>
            <dt>Email地址：</dt>
            <dd><input id="email" type="text" class="inputs" onblur="checkEmail()" /><div id="email_prompt"></div></dd>
        </dl>
        <dl>
            <dt>手机号码：</dt>
            <dd><input id="mobile" type="text" class="inputs" onblur="checkMobile()" /><div id="mobile_prompt"></div></dd>
        </dl>
        <dl>
            <dt>登录密码：</dt>
            <dd><input id="pwd" type="password"  class="inputs" onblur="checkPwd()" /><div id="pwd_prompt"></div></dd>
        </dl>
        <dl>
            <dt>密码确认：</dt>
            <dd><input id="repwd" type="password"  class="inputs" onblur="checkRepwd()" /><div id="repwd_prompt"></div></dd>
        </dl>
        <dl>
            <dt>&nbsp;</dt>
            <dd><input name="" type="image" src="images/login.jpg" /></dd>
        </dl>
    </form>
</div>

<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
<script type="text/javascript">
    $(function () {

    });
    $("#myform").submit(function () {
        var f1=checkEmail();
        var f2=checkMobile();
        var f3=checkPwd();
        var f4=checkRepwd();
        var f5=checkUser();
        if(f1==true&&f2==true&&f3==true&&f4==true&&f5==true){
            return true;
        }
        return false;
    });
    function checkUser(){//用户名
        var u=$("#user").val();
        var $div=$("#user_prompt");
        var reg=/^[a-zA-Z]\w{4,15}$/;
        if(reg.test(u)==false){
            $div.html("用户名不正确");
            return false;
        }
        $div.html("");
        return true;
    }
    function checkEmail(){//邮箱
        var email=$("#email").val();
        var $div=$("#email_prompt");
        var reg=/^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;
        if(reg.test(email)==false){
            $div.html("Email格式不正确 例如web@sohu.com");
            return false;
        }
        $div.html("");
        return true;
    }
    function checkMobile(){//手机
        var mobile=$("#mobile").val();
        var $div=$("#mobile_prompt");
        var reg=/^1\d{10}$/;
        if(reg.test(mobile)==false){
            $div.html("手机号码格式不正确");
            return false;
        }
        $div.html("");
        return true;
    }
    function checkPwd(){
        var pwd=$("#pwd").val();
        var $div=$("#pwd_prompt");
        var reg=/^[a-zA-Z0-9]{4,10}$/;
        if(reg.test(pwd)==false){
            $div.html("密码格式不正确");
            return false;
        }
        $div.html("");
        return true;
    }
    function checkRepwd(){
        var repwd=$("#repwd").val();
        var $div=$("#repwd_prompt");
        var reg=/^[a-zA-Z0-9]{4,10}$/;
        if(repwd!=$("#pwd").val()){
            $div.html("2次密码不同");
            return false;
        }
        if(reg.test(repwd)==false){
            $div.html("密码格式不正确");
            return false;
        }
        $div.html("");
        return true;
    }
</script>
</body>
</html>
